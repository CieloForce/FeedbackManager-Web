<div style="height: 3px; position: fixed; width: 100%;">
    <p-progressBar *ngIf="loading" mode="indeterminate" [style]="{ height: '3px' }"></p-progressBar>
</div>

<div style="max-width: 480px; margin: auto;">
    <p-card header="Enviar Feedback" class="m-4">
        <form #form="ngForm" class="flex justify-content-center flex-wrap ">
            <span class="p-float-label my-2">
                <textarea rows="5" cols="44" pInputTextarea [(ngModel)]="textAreaValue" name="textarea" #textarea="ngModel"></textarea>
                <label htmlFor="username">Digite sua mensagem!</label>
            </span>
            <div class="flex justify-content-center flex-wrap">
                <p-button icon="pi pi-thumbs-up" iconPos="right" label="Elogio"
                    styleClass="p-button-raised p-button-text p-button-success" [disabled]="textAreaValue == ''"
                    class="flex align-items-center justify-content-center m-2" (click)="send('elogio')"></p-button>
                <p-button icon="pi pi-question" iconPos="right" label="Sugestão"
                    styleClass="p-button-raised p-button-text p-button-warning" [disabled]="textAreaValue == ''"
                    class="flex align-items-center justify-content-center m-2" (click)="send('sugestao')"></p-button>
                <p-button icon="pi pi-exclamation-triangle" iconPos="right" label="Crítica"
                    styleClass="p-button-raised p-button-text p-button-danger" [disabled]="textAreaValue == ''"
                    class="flex align-items-center justify-content-center m-2" (click)="send('critica')"></p-button>
            </div>
        </form>
    </p-card>
    
    <p-card header="Size das Filas" class="m-4">
        <div class="mb-4">
            <h3>Por Status</h3>
            <p-chart id="stacked-bar-chart" type="bar" [data]="stackedData" [options]="stackedOptions" height="150px"></p-chart>
        </div>
        <div style="text-align: center; color: #555">
            Total de <b>{{totalSize}}</b> feedbacks em fila.
        </div>
        <div class="my-4">
            <h3>Por Tipo</h3>
            <p-chart id="pie-chart" type="doughnut" [data]="pieData" [options]="pieOptions" height="200px"></p-chart>
        </div>
    </p-card>

    <p-card header="Consumir Fila" class="m-4">
        <div class="flex justify-content-center flex-wrap">
            <p-button icon="pi pi-thumbs-up" iconPos="right" styleClass="p-button-rounded p-button-success p-button-lg"
                class="flex align-items-center justify-content-center mx-4 my-2" (click)="consume('elogio')"></p-button>
            <p-button icon="pi pi-question" iconPos="right" styleClass="p-button-rounded p-button-warning p-button-lg"
                class="flex align-items-center justify-content-center mx-4 my-2" (click)="consume('sugestao')"></p-button>
            <p-button icon="pi pi-exclamation-triangle" iconPos="right" styleClass="p-button-rounded p-button-danger p-button-lg"
                class="flex align-items-center justify-content-center mx-4 my-2" (click)="consume('critica')"></p-button>
        </div>
    </p-card>
    <p-toast></p-toast>
    <p-confirmDialog [style]="{ width: '50vw' }" key="positionDialog" [position]="position"
        rejectButtonStyleClass="p-button-outlined"></p-confirmDialog>
</div>
